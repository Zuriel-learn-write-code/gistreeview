<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="dark:bg-gray-900">
    <div id="root"></div>
    <!-- Runtime hotfix: if the site is served from the frontend domain, set a global VITE_API_BASE
         so the already-built bundle will use the backend host without requiring a rebuild. -->
    <script>
      (function(){
        try{
          var frontendHost = 'gistreeview.vercel.app';
          var backendOrigin = 'https://gistreeview-e8cn.vercel.app';
          if(typeof window !== 'undefined' && window.location && window.location.hostname === frontendHost){
            // Only set if not already present
            if(!globalThis.VITE_API_BASE){
              globalThis.VITE_API_BASE = backendOrigin;
              console.info('[hotfix] VITE_API_BASE set to', globalThis.VITE_API_BASE);
            }
          }
        }catch(e){
          // safe no-op
          console.warn('[hotfix] failed to set VITE_API_BASE', e);
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
